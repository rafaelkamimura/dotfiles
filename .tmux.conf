# Remap prefix ad reload
unbind r
bind r source-file ~/.tmux.conf

set -g prefix C-Space

set -g mouse on

# Ultra-minimal status bar
set -g status on
set -g status-interval 60
set -g status-justify left
set -g window-status-separator ""                     # No separator for seamless look

# Nonbinary-themed status line with pride elements
set -g status-left "#[fg=#fcf434,bg=#9c59d1,bold] ⚐ #S ⚐ #[fg=#9c59d1,bg=#0a0a0a] "     # Session with nonbinary symbol
set -g status-right "#[fg=#9c59d1,bg=#0a0a0a]#[fg=#ffffff,bg=#9c59d1] #{b:pane_current_path} #[fg=#fcf434,bg=#9c59d1]#[fg=#0a0a0a,bg=#fcf434,bold] %H:%M "
set -g status-left-length 25                                                   # Slightly more room for longer session names
set -g status-right-length 60                                                  # More room for path and time

# Better colors and display
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# ⚧ Nonbinary Pride Theme ⚧
# Colors from the nonbinary flag: yellow (#fcf434), white (#ffffff), purple (#9c59d1), black (#0a0a0a)
set -g status-bg "#0a0a0a"              # Deep black background
set -g status-fg "#f0f0f0"              # Bright white for excellent readability
set -g status-style "bold"              # Bold everything for pride!

# Nonbinary flag-inspired pane borders
set -g pane-border-style fg="#9c59d1"                    # Purple borders for inactive
set -g pane-active-border-style fg="#fcf434",bg="#0a0a0a",bold   # Yellow with black background

# Message styling with strong nonbinary pride
set -g message-style bg="#9c59d1",fg="#fcf434",bold      # Purple with yellow text
set -g message-command-style bg="#fcf434",fg="#9c59d1",bold   # Yellow with purple text

# Nonbinary-themed window status with alternating colors
set -g window-status-format "#[fg=#666666]● #[fg=#999999]#W"                         # Dot marker for inactive
set -g window-status-current-format "#[fg=#fcf434,bg=#2d2d2d,bold] ★ #W #[fg=#2d2d2d,bg=#0a0a0a]"  # Star for active
set -g window-status-activity-style fg="#ffffff",bg="#9c59d1",bold    # White on purple for activity
set -g window-status-bell-style fg="#0a0a0a",bg="#fcf434",bold        # Black on yellow for bells

# Vim-style pane navigation
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Copy mode with nonbinary pride colors
set -g mode-style bg="#fcf434",fg="#0a0a0a",bold

# Clock mode in nonbinary colors
set -g clock-mode-colour "#fcf434"
set -g clock-mode-style 24

# Quick window switching
bind-key -n M-h previous-window
bind-key -n M-l next-window

set-option -g status-position bottom

# Screen splitting with current path
unbind '"'
unbind %

bind v split-window -v -c "#{pane_current_path}"
bind h split-window -h -c "#{pane_current_path}"

# Window creation with current path
bind c new-window -c "#{pane_current_path}"

# Pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'catppuccin/tmux'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Professional Catppuccin configuration aligned with custom theme
set -g @catppuccin_flavour 'mocha'
set -g @catppuccin_status_default "off"                    # We handle status manually for precise control

# Refined window display with proper spacing
set -g @catppuccin_window_separator "  "                   # Double space for better visual separation
set -g @catppuccin_window_left_separator ""
set -g @catppuccin_window_right_separator ""
set -g @catppuccin_window_middle_separator " "
set -g @catppuccin_window_number_position "left"
set -g @catppuccin_window_default_fill "none"             # Clean, no background fills
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_current_fill "none"
set -g @catppuccin_window_current_text "#W"

# Minimal status modules (disabled for manual control)
set -g @catppuccin_status_modules_right ""
set -g @catppuccin_status_modules_left ""                  # Fully manual status line
set -g @catppuccin_status_left_separator ""
set -g @catppuccin_status_right_separator ""
set -g @catppuccin_status_fill "none"
set -g @catppuccin_status_connect_separator "no"

# Clean, icon-free interface
set -g @catppuccin_session_icon ""
set -g @catppuccin_directory_icon ""
set -g @catppuccin_date_time_icon ""
set -g @catppuccin_battery_icon ""
set -g @catppuccin_cpu_icon ""

# Nonbinary color scheme
set -g @catppuccin_pane_background_color "#0a0a0a"        # Black background
set -g @catppuccin_status_background "#0a0a0a"            # Consistent black

# Nonbinary module colors
set -g @catppuccin_session_color "#9c59d1"                # Purple for session
set -g @catppuccin_date_time_color "#fcf434"              # Yellow for time

# Initialize TPM
run '~/.tmux/plugins/tpm/tpm'
